---
import { translations } from "../i18n";
import ExperienceScroll from "./ExperienceScroll";

const { lang = "en" } = Astro.props;
const t = translations[lang as "en" | "es"].experience;
const experiences = t.items;
---

<section class="experience zoom-section" id="experience">
    <div class="zoom-bg experience-bg"></div>

    <!-- Immersive Background Text -->
    <div
        class="experience-bg-text select-none pointer-events-none reveal-cinematic"
    >
        JOURNEY
    </div>

    <div class="container experience-container !max-w-full">
        <div class="experience-header reveal">
            <p class="section-label" data-i18n="experience.label">
                {t.label}
            </p>
            <h2 class="section-title">
                {t.title}
                <span class="gradient-text">{t.title_accent || "Impact"}</span>
            </h2>
            <p class="section-subtitle" data-i18n="experience.subtitle">
                {t.subtitle}
            </p>
        </div>

        <ExperienceScroll client:visible items={experiences} />
    </div>
</section>

<style>
    .experience {
        padding: var(--section-padding) 0;
        overflow: hidden;
        position: relative;
    }

    .experience-bg {
        background:
            radial-gradient(
                circle at 50% 50%,
                rgba(56, 189, 248, 0.08) 0%,
                transparent 60%
            ),
            radial-gradient(
                circle at 10% 20%,
                rgba(56, 189, 248, 0.05) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 90% 80%,
                rgba(139, 92, 246, 0.05) 0%,
                transparent 40%
            );
    }

    .experience-bg-text {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: clamp(10rem, 25vw, 40rem);
        font-weight: 900;
        color: white;
        opacity: 0.02;
        letter-spacing: 0.2em;
        z-index: 1;
        width: 100%;
        text-align: center;
        line-height: 1;
    }

    .experience-container {
        position: relative;
        z-index: 2;
        max-width: 100%;
        padding: 0;
    }

    .experience-header {
        text-align: center;
        margin-bottom: 0rem; /* Tighter against the scroll */
        padding: 0 2rem;
    }
</style>
